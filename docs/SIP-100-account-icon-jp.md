# SIP-100: メタデータによるアカウントアイコン表示

## 概要（Summary）
この提案は、Symbol Explorer において、アカウントメタデータに保存された画像URLをもとにアカウントアイコンを表示できる新機能を導入するものです。
所有者のアドレスが記載されたSNSのURLを追加することで本人のアドレスであることが客観的に証明される。

## 動機（Motivation）
現在、Symbol Explorerではアカウントは単なるアドレス文字列として表示されています。アカウントに関連付けられたビジュアルアイコンを表示できるようにすることで、以下の効果が期待できます：

- 直感的で親しみやすいユーザーインターフェースの実現
- 分散型アイデンティティとパーソナライズ表現の推進
- 既知アドレスを視覚的に素早く認識できるようになる
- 誰のアドレスかSNSを使ってのアドレスの検証


## 仕様（Specification）

### メタデータの使用（Metadata Usage）
- 利用するメタデータキー: social_meta_data
- 値：JSON

JSON

{"url":"https://example.com","name":"myname","imageUrl":"https://example.com/image.jpg","namespace":"my namespace"}


### 表示ルール（Display Rules）
- social_meta_data が存在し、かつ有効な画像URLであれば、その画像をアカウントアイコンとして表示します。
- メタデータが存在しない、または無効な場合は、従来のSVGプレースホルダーアイコンを使用します。
- 画像は丸型アイコンとして表示します（border-radius: 50% を適用）。

### モデレーション（Moderation）
- 不適切と思われるアイコンに対して、ユーザーが「非表示」ボタンをクリックして手動で隠すことができます。
- 非表示設定されたアカウントは、ブラウザの localStorage に保存され、以降の読み込み時に表示されなくなります。
- （オプション）ユーザーが不適切な画像を「通報」できるボタンも将来的に導入可能です。

### バリデーション（Validation）
- 画像表示前に以下のバリデーションを行います：
  - http:// または https:// で始まるか
  - 適切な長さと形式であるかを検証して、不正利用を防止する

## 根拠（Rationale）
この機能は、Symbolアカウントメタデータの既存機能を活用するため、プロトコルレベルの変更を必要としません。  
ユーザーインターフェースを大きく向上させつつ、後方互換性を保ち、ローカルでの安全管理も可能にします。

## 後方互換性（Backwards Compatibility）
この提案は、既存機能を壊すことはありません。  
social_meta_data が設定されていないアカウントは、従来通りデフォルトのアイコンが表示されます。

## 実装上の注意点（Implementation Notes）
- メタデータは非同期で取得し、初回ページロードをブロックしないようにする
- アイコンサイズは最適化する（例：64x64px以内）
- パフォーマンス向上のため、アイコン画像は遅延読み込み（lazy loading）を検討する

## 参考リンク（References）
- 関連する機能提案ディスカッション：[GitHub Issue #1200](https://github.com/symbol/symbol-explorer/issues/1200)

---

*提案者（Author）: [bootarou]*  
*日付（Date）: 2025-04-26*