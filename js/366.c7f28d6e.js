"use strict";(self["webpackChunksymbol_explorer"]=self["webpackChunksymbol_explorer"]||[]).push([[366],{88901:function(e,t){var i,a,n=this&&this.__classPrivateFieldGet||function(e,t,i,a){if("a"===i&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?a:"a"===i?a.call(e):a?a.value:t.get(e)},s=this&&this.__classPrivateFieldSet||function(e,t,i,a,n){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?n.call(e,i):n?n.value=i:t.set(e,i),i};Object.defineProperty(t,"__esModule",{value:!0});class o{constructor(){i.set(this,!1),a.set(this,new Set)}get acquired(){return n(this,i,"f")}acquireAsync({timeout:e}={}){if(!n(this,i,"f"))return s(this,i,!0,"f"),Promise.resolve();if(null==e)return new Promise((e=>{n(this,a,"f").add(e)}));let t,o;return Promise.race([new Promise((e=>{t=()=>{clearTimeout(o),e()},n(this,a,"f").add(t)})),new Promise(((i,s)=>{o=setTimeout((()=>{n(this,a,"f").delete(t),s(new Error("Timed out waiting for lock"))}),e)}))])}tryAcquire(){return!n(this,i,"f")&&(s(this,i,!0,"f"),!0)}release(){if(!n(this,i,"f"))throw new Error("Cannot release an unacquired lock");if(n(this,a,"f").size>0){const[e]=n(this,a,"f");n(this,a,"f").delete(e),e()}else s(this,i,!1,"f")}}t["default"]=o,i=new WeakMap,a=new WeakMap},20366:function(e,t,i){i.r(t),i.d(t,{default:function(){return X}});i(44114),i(98992),i(54520),i(3949);var a=i(88901),n=i.n(a);class s{constructor(e){this.lock=e}static create(){return new s(new(n()))}async initialize(e,t,i,a){await this.lock.acquireAsync();try{a.getInitialized||(await e(),t("setInitialized",!0))}finally{this.lock.release()}}async uninitialize(e,t,i,a){await this.lock.acquireAsync();try{a.getInitialized&&(await e(),t("setInitialized",!1))}finally{this.lock.release()}}}var o=i(85471),r=i(23003);class c{constructor(e,t,i=Object){if("string"!==typeof e)throw Error("Failed to construct DataSet. Name is not provided");if("function"!==typeof t)throw Error("Cannot create timeline. Initial function is not provided");this.name=e,this.initialFuntion=t,this.DataType=i,this.data=new i,this.loading=!0,this.error=!1}static empty(){return{data:{}}}setStore(e){return this.store=e,this.store.dispatch(this.name,this),this}async initialFetch(e){this.loading=!0,this.store.dispatch(this.name,this);try{this.data=await this.initialFuntion(e,this.store)}catch(t){console.error(t),this.error=!0}return this.loading=!1,this.store.dispatch(this.name,this),this}uninitialize(){this.initialized=!1,this.data=new this.DataType,this.loading=!1,this.error=!1}async reset(){return this.initialFetch()}}class l{constructor({name:e,fetchFunction:t,pageInfo:i={},filter:a}){if("string"!==typeof e)throw Error("Failed to construct Pagination. Name is not provided");if("function"!==typeof t)throw Error("Cannot create Pagination. Fetch function is not provided");if(null===i||"object"!==typeof i)throw Error('Cannot create Pagination. "pageInfo" is not an "object"');this.name=e,this.fetchFunction=t,this.pageInfo={pageNumber:i.pageNumber||1,pageSize:i.pageSize||r.A.pageSize,totalRecords:void 0,data:[]},this.capturePageInfo(),this.options=a,this.store={},this.addLatestItem=this.addLatestItem.bind(this),this.initialized=!1,this.loading=!0,this.error=!1,this.filterIndex=0}static empty(){return{data:[],canFetchNext:!1,canFetchPrevious:!1,fetchNext:()=>{},fetchPrevious:()=>{},reset:()=>{}}}get data(){var e;return(null===this||void 0===this||null===(e=this.pageInfo)||void 0===e?void 0:e.data)||[]}get canFetchPrevious(){return 1<this.pageInfo.pageNumber&&!1===this.loading}get canFetchNext(){return!this.pageInfo.isLastPage&&!1===this.loading}get isLive(){return 1===this.pageInfo.pageNumber||!1}get pageNumber(){return this.pageInfo.pageNumber||1}get pageSize(){return this.pageInfo.pageSize}get totalRecords(){return this.pageInfo.totalRecords||void 0}get filterOptions(){return Array.isArray(this.options)?this.options:[]}get filterValue(){return this.filterOptions[this.filterIndex]?this.filterOptions[this.filterIndex].value:void 0}setStore(e){return this.store=e,this.store.dispatch(this.name,this),this}setData(e){return this.pageInfo.data=e,this}uninitialize(){this.initialized=!1,this.pageInfo.data=[],this.pageInfo.pageNumber=1,this.capturePageInfo(),this.filterIndex=0,this.loading=!1,this.error=!1}initialFetch(){if(!this.initialized)return this.reset(),this.initialized=!0,this.fetch()}async fetch(){this.loading=!0,this.store.dispatch(this.name,this);try{const e=await this.fetchFunction(this.pageInfo,this.filterValue,this.store);if(e.totalRecords){const t=Math.ceil(e.totalRecords/e.pageSize);e.isLastPage=e.pageNumber===t}this.pageInfo=null!==e&&void 0!==e&&e.data.length?e:{...this.capturedPageInfo,isLastPage:!0}}catch(e){console.error(e),this.error=!0}return this.loading=!1,this.store.dispatch(this.name,this),this}async fetchNext(){return this.canFetchNext?(this.store.dispatch(this.name,this),this.capturePageInfo(),this.pageInfo.pageNumber++,await this.fetch()):console.error("[Pagination]: cannot fetch next"),this.loading=!1,this.store.dispatch(this.name,this),this}async fetchPrevious(){return this.canFetchPrevious?(this.store.dispatch(this.name,this),this.pageInfo.pageNumber--,await this.fetch(),this.store.dispatch(this.name,this),this):this.reset()}async fetchPage(e){if(null!==e&&"undefined"!==typeof e){if(this.store.dispatch(this.name,this),null===this.pageInfo||"object"===typeof this.pageInfo)for(const t in e)this.pageInfo[t]=e[t];await this.fetch()}else console.error("[Pagination]: failed to fetchWithCriteria 'pageInfo' is not an object");return this.store.dispatch(this.name,this),this}async changeFilterValue(e){return this.uninitialize(),this.filterIndex=e,await this.fetch(),this.store.dispatch(this.name,this),this}async reset(e=1){return this.pageInfo.pageNumber=e,this.filterIndex=0,this.fetch()}async capturePageInfo(){this.capturedPageInfo={...this.pageInfo}}addLatestItem(e,t){if(this.isLive){var i;if(null===(i=this.data)||void 0===i||!i.length||this.data[0][t]!==e[t]){const t=[e,...this.data];t.pop();const i=[].concat.apply([],t);return this.setData(i),this.store.dispatch(this.name,this),this}console.error("[Pagination]: attempted to add duplicate item as a latest item")}}}const d=e=>{let t={};for(const i of e)t[i.name]=i;return t},g=e=>{let t={};for(const i of e)t[i.name]=e=>e[i.name];return t},u=e=>{let t={};for(const i of e)t[i.name]=(e,t)=>o["default"].set(e,i.name,t);return t},h=e=>{let t={};for(const i of e)t[i.name]=({commit:e},t)=>e(i.name,t);return t};var m=i(2515),p=i(84463),f=i(89875),z=i(42609);const w=[new l({name:"timeline",fetchFunction:(e,t)=>f.Di.getAccountList(e,t),pageInfo:{pageSize:m.YM.PageSize},filter:m.uW.account}),new c("info",(e=>f.Di.getAccountInfo(e))),new c("OwnedMosaic",(e=>f.Di.getAccountMosaicList(e))),new l({name:"OwnedNamespace",fetchFunction:(e,t,i)=>f.Di.getAccountNamespaceList(e,t,i.getters.getCurrentAccountAddress),pageInfo:{pageSize:10},filter:m.uW.namespace}),new c("multisig",(e=>f.cu.getMultisigAccountInfo(e))),new l({name:"transactions",fetchFunction:(e,t,i)=>f.Di.getAccountTransactionList(e,t,i.getters.getCurrentAccountAddress),pageInfo:{pageSize:10},filter:m.uW.transaction}),new l({name:"harvestedBlocks",fetchFunction:(e,t,i)=>f.Di.getAccountHarvestedReceiptList(e,i.getters.getCurrentAccountAddress),pageInfo:{pageSize:10}}),new l({name:"receipt",fetchFunction:(e,t,i)=>f.Di.getAccountReceiptList(e,t,i.getters.getCurrentAccountAddress),pageInfo:{pageSize:10},filter:m.uW.accountTransactionReceipt}),new l({name:"mosaicAddressRestrictions",fetchFunction:(e,t,i)=>f.Oc.getMosaicAddressRestrictionList(e,i.getters.getCurrentAccountAddress),pageInfo:{pageSize:m.YM.PageSize}}),new l({name:"metadatas",fetchFunction:(e,t,i)=>f.Di.getAccountMetadataList(e,t,i.getters.getCurrentAccountAddress),pageInfo:{pageSize:10},filter:m.uW.metadata}),new l({name:"hashLocks",fetchFunction:(e,t,i)=>f.Di.getAccountHashLockList(e,i.getters.getCurrentAccountAddress),pageInfo:{pageSize:10}}),new l({name:"secretLocks",fetchFunction:(e,t,i)=>f.Di.getAccountSecretLockList(e,i.getters.getCurrentAccountAddress),pageInfo:{pageSize:10}}),new c("accountRestrictions",(e=>f.Oc.getAccountRestrictionList(e)))],v=s.create();var I,k={namespaced:!0,state:{...d(w),initialized:!1,currentAccountAddress:null},getters:{...g(w),getInitialized:e=>e.initialized,getActivityBucketList:e=>{var t;return(null===(t=e.info)||void 0===t?void 0:t.data.activityBucket)||[]},getSupplementalPublicKeys:e=>{var t;return(null===(t=e.info)||void 0===t?void 0:t.data.supplementalPublicKeys)||{}},getVotingKeyList:e=>{var t;return(null===(t=e.info)||void 0===t?void 0:t.data.votingList)||[]},getCurrentAccountAddress:e=>e.currentAccountAddress,balanceWidget:(e,t)=>{var i,a,n;return{address:e.currentAccountAddress?z.Address.createFromRawAddress(e.currentAccountAddress).plain():"",mosaic:null===(i=t.OwnedMosaic)||void 0===i?void 0:i.data[0],alias:null===(a=t.info)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.accountAliasNames}}},mutations:{...u(w),setInitialized:(e,t)=>{e.initialized=t},setCurrentAccountAddress:(e,t)=>{e.currentAccountAddress=t}},actions:{...h(w),async initialize({commit:e,dispatch:t,getters:i}){const a=async()=>{await t("initializePage")};await v.initialize(a,e,t,i)},async uninitialize({commit:e,dispatch:t,getters:i}){const a=async()=>{var e;t("uninitializeDetail"),null===(e=i.timeline)||void 0===e||e.uninitialize()};await v.uninitialize(a,e,t,i)},initializePage(e){e.getters.timeline.setStore(e).initialFetch()},async fetchAccountDetail(e,t){let{address:i}=t;try{i=z.Address.createFromRawAddress(i).plain()}catch(a){i=await p.A.decodeToAddress(i)}e.dispatch("uninitializeDetail"),e.commit("setCurrentAccountAddress",i),e.getters.info.setStore(e).initialFetch(i),e.getters.transactions.setStore(e).initialFetch(i),e.getters.OwnedMosaic.setStore(e).initialFetch(i),e.getters.OwnedNamespace.setStore(e).initialFetch(i),e.getters.multisig.setStore(e).initialFetch(i),e.getters.metadatas.setStore(e).initialFetch(i),e.getters.mosaicAddressRestrictions.setStore(e).initialFetch(i),e.getters.harvestedBlocks.setStore(e).initialFetch(i),e.getters.accountRestrictions.setStore(e).initialFetch(i),e.getters.hashLocks.setStore(e).initialFetch(i),e.getters.secretLocks.setStore(e).initialFetch(i),e.getters.receipt.setStore(e).initialFetch(i)},uninitializeDetail(e){e.getters.info.setStore(e).uninitialize(),e.getters.OwnedMosaic.setStore(e).uninitialize(),e.getters.OwnedNamespace.setStore(e).uninitialize(),e.getters.multisig.setStore(e).uninitialize(),e.getters.transactions.setStore(e).uninitialize(),e.getters.metadatas.setStore(e).uninitialize(),e.getters.mosaicAddressRestrictions.setStore(e).uninitialize(),e.getters.harvestedBlocks.setStore(e).uninitialize(),e.getters.accountRestrictions.setStore(e).uninitialize(),e.getters.hashLocks.setStore(e).uninitialize(),e.getters.secretLocks.setStore(e).uninitialize(),e.getters.receipt.setStore(e).uninitialize()}}},S=(i(81454),{rE:"1.4.0"}),y=i(21618),A=i(40957);const b=s.create();var N={namespaced:!0,state:{initialized:!1,nodes:[],currentNode:localStorage.getItem("currentNode")?p.A.parseUrl(localStorage.getItem("currentNode")):"",wssEndpoint:(I=localStorage.getItem("currentNode"),p.A.httpToWssUrl(I)),marketData:p.A.parseUrl(y.A.endpoints.marketData),networkType:0,appVersion:S.rE||"0"},getters:{getInitialized:e=>e.initialized,nodes:e=>Array.isArray(e.nodes)?e.nodes.map((e=>p.A.parseUrl(e))):[],currentNode:e=>e.currentNode.origin,currentNodeHostname:e=>e.currentNode.hostname,wssEndpoint:e=>e.wssEndpoint.origin,marketData:e=>e.marketData.origin,isTestnet:e=>e.networkType===z.NetworkType.TEST_NET,appVersion:e=>e.appVersion},mutations:{setInitialized:(e,t)=>{e.initialized=t},mutate:(e,{key:t,value:i})=>o["default"].set(e,t,i),currentNode:(e,t)=>{if(void 0!==t){var i;const a=p.A.parseUrl(t),n=(i=a.origin,p.A.httpToWssUrl(i));localStorage.setItem("currentNode",a),o["default"].set(e,"currentNode",a),o["default"].set(e,"wssEndpoint",n)}},setNodes:(e,t)=>{e.nodes=t},networkType:(e,t)=>{e.networkType=t}},actions:{async initialize({commit:e,dispatch:t,getters:i}){const a=async()=>{await t("loadNodeList");const a=i["currentNode"],n=i["marketData"];await A.A.init(a,n),e("networkType",A.A.networkType),A.A.networkType===z.NetworkType.TEST_NET&&document.documentElement.setAttribute("data-network","testnet"),t("chain/getChainInfo",null,{root:!0})};await b.initialize(a,e,t,i)},changeNode({commit:e},t){if(!p.A.validURL(t))throw Error("Cannot change node. URL is not valid: "+t);e("currentNode",t),e("setInitialized",!1),location.reload()},async loadNodeList({commit:e,getters:t}){let i=[];const a=await f.wD.getAPINodeList();a.map((e=>{let t=p.A.parseUrl(e.apiEndpoint).origin;i.push(t)})),e("setNodes",i);const n=t["currentNode"];if(n)-1===i.indexOf(n)&&i.push(n);else{const t=Math.floor(Math.random()*i.length);e("currentNode",p.A.parseUrl(i[t]))}}}};const F=[new l({name:"timeline",fetchFunction:e=>f.ps.getBlockList(e),pageInfo:{pageSize:m.YM.PageSize}}),new l({name:"blockTransactions",fetchFunction:(e,t,i)=>f.ps.getBlockTransactionList(e,t,i.getters.currentBlockHeight),pageInfo:{pageSize:10},filter:m.uW.transaction}),new l({name:"receipt",fetchFunction:(e,t,i)=>f.ps.getBlockReceiptList(e,t,i.getters.currentBlockHeight),pageInfo:{pageSize:10},filter:m.uW.blockTransactionReceipt}),new c("blockReceipts",(e=>f.ps.getBlockReceiptsInfo(e))),new c("info",(e=>f.ps.getBlockInfo(e)))],T=s.create();var L={namespaced:!0,state:{...d(F),initialized:!1,subscription:null,currentBlockHeight:null},getters:{...g(F),getInitialized:e=>e.initialized,getRecentList:e=>{var t,i;return(null===(t=e.timeline)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.filter(((e,t)=>4>t)))||[]},getSubscription:e=>e.subscription,blockInfo:e=>{var t,i;return(null===(t=e.info)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.blockInfo)||{}},merkleInfo:e=>{var t,i;return(null===(t=e.info)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.merkleInfo)||{}},resolutionStatement:e=>{var t,i;return(null===(t=e.blockReceipts)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.resolutionStatements)||[]},currentBlockHeight:e=>e.currentBlockHeight},mutations:{...u(F),setInitialized:(e,t)=>{e.initialized=t},setSubscription:(e,t)=>{e.subscription=t},currentBlockHeight:(e,t)=>o["default"].set(e,"currentBlockHeight",t)},actions:{...h(F),async initialize({commit:e,dispatch:t,getters:i}){const a=async()=>{await t("initializePage"),await t("subscribe")};await T.initialize(a,e,t,i)},async uninitialize({commit:e,dispatch:t,getters:i}){const a=async()=>{var e;t("unsubscribe"),t("uninitializeDetail"),null===(e=i.timeline)||void 0===e||e.uninitialize()};await T.uninitialize(a,e,t,i)},async subscribe({commit:e,dispatch:t,getters:i,rootGetters:a}){if(null===i.getSubscription){const n=await f.E7.subscribeNewBlock((async e=>{const a=Number(e.height.toString()),[n,s]=await Promise.all([f.ps.getBlockByHeight(a),f.E2.searchReceipts({height:z.UInt64.fromUint(a),receiptTypes:[z.ReceiptType.Inflation]})]),{supplementalPublicKeys:o}=await f.Di.getAccount(n.signer),r=s.data.inflationStatement.data[0],c=Number(null===r||void 0===r?void 0:r.amount.toString())||0;i.timeline.addLatestItem({...n,age:p.A.convertTimestampToDate(n.timestamp),blockReward:p.A.toNetworkCurrency(c),harvester:{signer:n.signer,linkedAddress:o.linked===m.YM.Message.UNAVAILABLE?n.signer:p.A.publicKeyToAddress(o.linked)}},"height"),t("chain/getChainInfo",null,{root:!0})}),a["api/wssEndpoint"]);e("setSubscription",n)}},unsubscribe({commit:e,getters:t}){let i=t.getSubscription;2===(null===i||void 0===i?void 0:i.length)&&(i[1].unsubscribe(),i[0].close(),e("setSubscription",null))},initializePage(e){e.dispatch("chain/getChainInfo",null,{root:!0}),e.getters.timeline.setStore(e).initialFetch()},fetchBlockInfo:(e,t)=>{e.dispatch("uninitializeDetail"),e.commit("currentBlockHeight",t.height),e.getters.info.setStore(e).initialFetch(t.height),e.getters.blockReceipts.setStore(e).initialFetch(t.height),e.getters.blockTransactions.setStore(e).initialFetch(t.height),e.getters.receipt.setStore(e).initialFetch(t.height)},uninitializeDetail(e){e.getters.info.setStore(e).uninitialize(),e.getters.blockReceipts.setStore(e).uninitialize(),e.getters.blockTransactions.setStore(e).uninitialize(),e.getters.receipt.setStore(e).uninitialize()},nextBlock:({commit:e,getters:t,dispatch:i,rootGetters:a})=>{t.currentBlockHeight<a["chain/getChainInfo"].currentHeight&&i("ui/openPage",{pageName:"block",param:+t.currentBlockHeight+1},{root:!0})},previousBlock:({commit:e,getters:t,dispatch:i})=>{1<+t.currentBlockHeight&&i("ui/openPage",{pageName:"block",param:+t.currentBlockHeight-1},{root:!0})}}};i(8872);const P=s.create();var D={namespaced:!0,state:{initialized:!1,storageInfo:{numTransactions:0,numAccounts:0},marketData:{marketCap:0,price:0,historicalHourlyGraph:{}},chainInfo:{currentHeight:0,finalizedBlockHeight:0,epoch:0,lastEpoch:{epoch:0,age:""}},nodeStats:{},loading:!0},getters:{getInitialized:e=>e.initialized,getLoading:e=>e.loading,getStorageInfo:e=>e.storageInfo,getMarketData:e=>e.marketData,getChainInfo:e=>e.chainInfo,getNodeStats:e=>e.nodeStats},mutations:{setInitialized:(e,t)=>{e.initialized=t},setLoading:(e,t)=>{e.loading=t},setStorageInfo:(e,t)=>{e.storageInfo.numTransactions=t.numTransactions,e.storageInfo.numAccounts=t.numAccounts},setMarketData:(e,{marketData:t,graphData:i})=>{e.marketData.price=t.XEM.USD.PRICE,e.marketData.marketCap=t.XEM.USD.MKTCAP,e.marketData.historicalHourlyGraph=i},setChainInfo:(e,{currentHeight:t,epoch:i,finalizedBlockHeight:a,lastEpoch:n})=>{e.chainInfo.currentHeight=t,e.chainInfo.epoch=i,e.chainInfo.finalizedBlockHeight=a,e.chainInfo.lastEpoch=n},setNodeStats:(e,t)=>{e.nodeStats={...t,total:Array.from(Array(8).keys()).reduce(((e,i)=>e+(t[i]||0)))}}},actions:{async initialize({commit:e,dispatch:t,getters:i}){const a=async()=>{await t("initializePage")};await P.initialize(a,e,t,i)},async uninitialize({commit:e,dispatch:t,getters:i}){const a=async()=>{};await P.uninitialize(a,e,t,i)},async initializePage({commit:e,dispatch:t}){e("setLoading",!0);const[i,a]=await Promise.all([f.wD.getStorageInfo(),f.wD.getNodeStats().catch((()=>{}))]);e("setLoading",!1),e("setStorageInfo",i),await t("getChainInfo"),a&&e("setNodeStats",a)},async getChainInfo({commit:e}){const[t]=await Promise.all([f.NW.getChainInfo()]),i=t.latestFinalizedBlock.finalizationEpoch-1,{height:a}=await f._.getFinalizationProofAtEpoch(i),{timestamp:n}=await f.ps.getBlockByHeight(a);e("setChainInfo",{currentHeight:t.height,finalizedBlockHeight:t.latestFinalizedBlock.height,epoch:t.latestFinalizedBlock.finalizationEpoch,lastEpoch:{epoch:i,age:p.A.convertTimestampToDate(n)}})}}};const B=[new l({name:"timeline",fetchFunction:e=>f.wB.getMosaicList(e),pageInfo:{pageSize:m.YM.PageSize}}),new l({name:"restrictions",fetchFunction:(e,t,i)=>f.Oc.getMosaicRestrictionList(e,t,i.getters.getCurrentMosaicId),pageInfo:{pageSize:m.YM.PageSize},filter:m.uW.mosaicRestriction}),new c("info",(e=>f.wB.getMosaicInfo(e))),new l({name:"metadatas",fetchFunction:(e,t,i)=>f.wB.getMosaicMetadataList(e,t,i.getters.getCurrentMosaicId),pageInfo:{pageSize:10},filter:m.uW.metadata}),new l({name:"balanceTransferReceipt",fetchFunction:(e,t,i)=>f.wB.getMosaicBalanceTransferReceipt(e,i.getters.getCurrentMosaicId),pageInfo:{pageSize:10}}),new l({name:"artifactExpiryReceipt",fetchFunction:(e,t,i)=>f.wB.getMosaicArtifactExpiryReceipt(e,i.getters.getCurrentMosaicId),pageInfo:{pageSize:10}})],C=s.create();var E={namespaced:!0,state:{...d(B),initialized:!1,currentMosaicId:null},getters:{...g(B),getInitialized:e=>e.initialized,getRecentList:e=>{var t,i;return(null===(t=e.timeline)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.filter(((e,t)=>4>t)))||[]},getCurrentMosaicId:e=>e.currentMosaicId},mutations:{...u(B),setInitialized:(e,t)=>{e.initialized=t},setCurrentMosaicId:(e,t)=>{e.currentMosaicId=t}},actions:{...h(B),async initialize({commit:e,dispatch:t,getters:i}){const a=async()=>{await t("initializePage")};await C.initialize(a,e,t,i)},async uninitialize({commit:e,dispatch:t,getters:i}){const a=async()=>{var e;t("uninitializeDetail"),null===(e=i.timeline)||void 0===e||e.uninitialize()};await C.uninitialize(a,e,t,i)},initializePage(e){e.getters.timeline.setStore(e).initialFetch()},fetchMosaicInfo(e,t){e.dispatch("uninitializeDetail"),e.commit("setCurrentMosaicId",t.mosaicId),e.getters.info.setStore(e).initialFetch(t.mosaicId),e.getters.restrictions.setStore(e).initialFetch(t.mosaicId),e.getters.metadatas.setStore(e).initialFetch(t.mosaicId),e.getters.balanceTransferReceipt.setStore(e).initialFetch(t.mosaicId),e.getters.artifactExpiryReceipt.setStore(e).initialFetch(t.mosaicId)},uninitializeDetail(e){e.getters.info.setStore(e).uninitialize(),e.getters.restrictions.setStore(e).uninitialize(),e.getters.metadatas.setStore(e).uninitialize(),e.getters.balanceTransferReceipt.setStore(e).uninitialize(),e.getters.artifactExpiryReceipt.setStore(e).uninitialize()}}};const R=s.create(),M=[new l({name:"timeline",fetchFunction:(e,t)=>f.B9.getNamespaceList(e,t),pageInfo:{pageSize:m.YM.PageSize},filter:m.uW.namespace}),new c("info",(e=>f.B9.getNamespaceInfo(e))),new c("namespaceLevel",(e=>f.B9.getNamespaceLevelList(e))),new l({name:"metadatas",fetchFunction:(e,t,i)=>f.B9.getNamespaceMetadataList(e,t,i.getters.getCurrentNamespaceId),pageInfo:{pageSize:10},filter:m.uW.metadata}),new l({name:"balanceTransferReceipt",fetchFunction:(e,t,i)=>f.B9.getNamespaceBalanceTransferReceipt(e,i.getters.getCurrentNamespaceId),pageInfo:{pageSize:10}}),new l({name:"artifactExpiryReceipt",fetchFunction:(e,t,i)=>f.B9.getNamespaceArtifactExpiryReceipt(e,i.getters.getCurrentNamespaceId),pageInfo:{pageSize:10}})];var H={namespaced:!0,state:{initialized:!1,...d(M),currentNamespaceId:null},getters:{getInitialized:e=>e.initialized,getCurrentNamespaceId:e=>e.currentNamespaceId,getRecentList:e=>{var t,i;return(null===(t=e.timeline)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.filter(((e,t)=>4>t)))||[]},...g(M)},mutations:{setInitialized:(e,t)=>{e.initialized=t},setCurrentNamespaceId:(e,t)=>{e.currentNamespaceId=t},...u(M)},actions:{...h(M),async initialize({commit:e,dispatch:t,getters:i}){const a=async()=>{await t("initializePage")};await R.initialize(a,e,t,i)},async uninitialize({commit:e,dispatch:t,getters:i}){const a=async()=>{var e;t("uninitializeDetail"),null===(e=i.timeline)||void 0===e||e.uninitialize()};await R.uninitialize(a,e,t,i)},initializePage(e){e.getters.timeline.setStore(e).initialFetch()},fetchNamespaceInfo(e,t){e.dispatch("uninitializeDetail"),e.commit("setCurrentNamespaceId",t.namespaceId),e.getters.info.setStore(e).initialFetch(t.namespaceId),e.getters.namespaceLevel.setStore(e).initialFetch(t.namespaceId),e.getters.metadatas.setStore(e).initialFetch(t.namespaceId),e.getters.balanceTransferReceipt.setStore(e).initialFetch(t.namespaceId),e.getters.artifactExpiryReceipt.setStore(e).initialFetch(t.namespaceId)},uninitializeDetail(e){e.getters.info.setStore(e).uninitialize(),e.getters.namespaceLevel.setStore(e).uninitialize(),e.getters.metadatas.setStore(e).uninitialize(),e.getters.balanceTransferReceipt.setStore(e).uninitialize(),e.getters.artifactExpiryReceipt.setStore(e).uninitialize()}}};const x=[new l({name:"timeline",fetchFunction:(e,t)=>f.wD.getAvailableNodeList(t),filter:m.uW.nodeRoles}),new c("nodeStats",(()=>f.wD.getNodeStats())),new c("info",(e=>f.wD.getNodeInfo(e)))],W=s.create();var O={namespaced:!0,state:{initialized:!1,...d(x)},getters:{getInitialized:e=>e.initialized,...g(x),mapInfo:e=>{var t,i;return[null===(t=e.info)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.mapInfo]},apiStatus:e=>{var t,i;return null===(t=e.info)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.apiStatus},chainInfo:e=>{var t,i;return null===(t=e.info)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.chainInfo},geoLocation:e=>{var t,i;return null===(t=e.info)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.geoLocation},hostInfoManager:(e,t)=>{var i,a,n,s;return{loading:(null===(i=t.timeline)||void 0===i?void 0:i.loading)||(null===(a=t.info)||void 0===a?void 0:a.loading),error:(null===(n=t.timeline)||void 0===n?void 0:n.error)||(null===(s=t.info)||void 0===s?void 0:s.error)}}},mutations:{setInitialized:(e,t)=>{e.initialized=t},...u(x)},actions:{...h(x),async initialize({commit:e,dispatch:t,getters:i}){const a=async()=>{await t("initializePage")};await W.initialize(a,e,t,i)},async uninitialize({commit:e,dispatch:t,getters:i}){const a=async()=>{var e,t;null===(e=i.timeline)||void 0===e||e.uninitialize(),null===(t=i.nodeStats)||void 0===t||t.uninitialize()};await W.uninitialize(a,e,t,i)},async initializePage(e){await e.getters.timeline.setStore(e).initialFetch(),e.getters.nodeStats.setStore(e).initialFetch()},async fetchNodeInfo(e,t){e.dispatch("uninitializeDetail"),e.getters.info.setStore(e).initialFetch(Object.values(t)[0])},uninitializeDetail(e){e.getters.info.setStore(e).uninitialize()}}};const U=[new c("nodeHeightAndFinalizedHeightStats",(()=>f.wD.getNodeHeightAndFinalizedHeightStats()))],j=s.create();var _={namespaced:!0,state:{...d(U),initialized:!1,loading:!0,loadingInfo:!0,loadingBlockTimeDifference:!0,loadingTransactionPerBlock:!0,loadingNodeCountSeries:!0,error:!1,networkTransactionFees:[],networkRentalFees:[],blockTimeDifferenceData:[],transactionPerBlockData:[],nodeCountSeries:[]},getters:{...g(U),getInitialized:e=>e.initialized,getLoading:e=>e.loading,getLoadingInfo:e=>e.loadingInfo,getLoadingBlockTimeDifference:e=>e.loadingBlockTimeDifference,getLoadingTransactionPerBlock:e=>e.loadingTransactionPerBlock,getLoadingNodeCountSeries:e=>e.loadingNodeCountSeries,getError:e=>e.error,getNetworkTransactionFees:e=>e.networkTransactionFees,getNetworkRentalFees:e=>e.networkRentalFees,getBlockTimeDifferenceData:e=>e.blockTimeDifferenceData,getTransactionPerBlockData:e=>e.transactionPerBlockData,getNodeCountSeries:e=>e.nodeCountSeries},mutations:{...u(U),setInitialized:(e,t)=>{e.initialized=t},setLoading:(e,t)=>{e.loading=t},setLoadingInfo:(e,t)=>{e.loadingInfo=t},setLoadingBlockTimeDifference:(e,t)=>{e.loadingBlockTimeDifference=t},setLoadingTransactionPerBlock:(e,t)=>{e.loadingTransactionPerBlock=t},setLoadingNodeCountSeries:(e,t)=>{e.loadingNodeCountSeries=t},setError:(e,t)=>{e.error=t},setNetworkTransactionFees:(e,t)=>{e.networkTransactionFees=t},setNetworkRentalFees:(e,t)=>{e.networkRentalFees=t},setBlockTimeDifferenceData:(e,t)=>{e.blockTimeDifferenceData=t},setTransactionPerBlockData:(e,t)=>{e.transactionPerBlockData=t},setNodeCountSeries:(e,t)=>{e.nodeCountSeries=t}},actions:{...h(U),async initialize({commit:e,dispatch:t,getters:i}){const a=async()=>{await t("initializePage")};await j.initialize(a,e,t,i)},async uninitialize({commit:e,dispatch:t,getters:i}){var a;const n=async()=>{};null===(a=i.nodeHeightAndFinalizedHeightStats)||void 0===a||a.uninitialize(),await j.uninitialize(n,e,t,i)},async initializePage(e){e.commit("setLoading",!0),e.commit("setLoadingInfo",!0),e.commit("setLoadingBlockTimeDifference",!0),e.commit("setLoadingTransactionPerBlock",!0),e.commit("setLoadingNodeCountSeries",!0),e.getters.nodeHeightAndFinalizedHeightStats.setStore(e).initialFetch(),e.commit("setError",!1);try{let t=await f.Ad.getTransactionFeesInfo(),i=await f.Ad.getRentalFeesInfo();e.commit("setNetworkTransactionFees",t),e.commit("setNetworkRentalFees",i),e.commit("setLoadingInfo",!1);const a={pageSize:100,order:z.Order.Desc},n=await f.ps.streamerBlocks(a,300),s=async()=>{let t=f.A$.getBlockTimeDifferenceData(n,60);e.commit("setBlockTimeDifferenceData",t),e.commit("setLoadingBlockTimeDifference",!1)},o=async()=>{let t=f.A$.getTransactionPerBlockData(n,60);e.commit("setTransactionPerBlockData",t),e.commit("setLoadingTransactionPerBlock",!1)},r=async()=>{const t=await f.A$.getNodeCountSeries();e.commit("setNodeCountSeries",t),e.commit("setLoadingNodeCountSeries",!1)};await Promise.all([s(),o(),r()])}catch(t){console.error(t),e.commit("setError",!0)}e.commit("setLoading",!1)}}};const G=[new l({name:"timeline",fetchFunction:(e,t)=>f.kK.getTransactionList(e,t),pageInfo:{pageSize:m.YM.PageSize},filter:m.uW.transaction}),new c("info",(e=>f.kK.getTransactionInfo(e))),new c("hashLock",(e=>f.kK.getHashLockInfo(e)))],K=s.create();var q={namespaced:!0,state:{...d(G),initialized:!1},getters:{...g(G),getInitialized:e=>e.initialized,transactionInfo:e=>{var t,i;return(null===(t=e.info)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.transactionInfo)||{}},transactionDetail:e=>{var t,i;return(null===(t=e.info)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.transactionBody)||{}},aggregateInnerTransactions:e=>{var t,i;return(null===(t=e.info)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.innerTransactions)||[]},aggregateCosignatures:e=>{var t,i;return(null===(t=e.info)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.cosignatures)||[]},getRecentList:e=>{var t,i;return(null===(t=e.timeline)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.filter(((e,t)=>4>t)))||[]},transactionSchema:(e,t)=>{var i,a;return{loading:t.info.loading,error:t.info.error,data:null!==(i=t.info.data)&&void 0!==i&&i.innerTransactions?{...t.info.data,...t.transactionDetail,type:null===(a=t.info.data)||void 0===a?void 0:a.type,innerTransactions:t.info.data.innerTransactions.map((e=>({...e,...e.transactionInfo,...e.transactionBody})))}:{...t.info.data,...t.transactionDetail}}}},mutations:{...u(G),setInitialized:(e,t)=>{e.initialized=t}},actions:{...h(G),async initialize({commit:e,dispatch:t,getters:i}){const a=async()=>{await t("initializePage"),await t("subscribe")};await K.initialize(a,e,t,i)},async uninitialize({commit:e,dispatch:t,getters:i}){const a=async()=>{var e;t("unsubscribe"),t("uninitializeDetail"),null===(e=i.timeline)||void 0===e||e.uninitialize()};await K.uninitialize(a,e,t,i)},async subscribe({commit:e,dispatch:t,getters:i}){},unsubscribe({commit:e,getters:t}){let i=t.getSubscription;2===(null===i||void 0===i?void 0:i.length)&&(i[1].unsubscribe(),i[0].close(),e("setSubscription",null))},add({commit:e},t){},initializePage(e){e.getters.timeline.setStore(e).initialFetch()},async getTransactionInfoByHash(e,t){e.dispatch("uninitializeDetail"),await e.getters.info.setStore(e).initialFetch(t.transactionHash);const i=e.getters.hashLock.setStore(e);e.getters.transactionDetail.transactionType===z.TransactionType.AGGREGATE_BONDED&&i.initialFetch(t.transactionHash)},uninitializeDetail(e){e.getters.info.setStore(e).uninitialize(),e.getters.hashLock.setStore(e).uninitialize()}}},$=i(81623),V={namespaced:!0,state:{languages:m.Ru.languages,currentLanguage:localStorage.getItem("userLanguage"),keyPages:m.Rw,theme:localStorage.getItem("theme")},getters:{getNameByKey:e=>e=>m.Ru.getName(e),languages:e=>e.languages,currentLanguage:e=>e.currentLanguage,theme:e=>e.theme,getPageHref:e=>t=>{t.pageName;{let i=t.pageName,a=e.keyPages[i]||i,n=t.param;return null!=n?`/${a}/${n}`:`/${a}`}},isMobile(){const e=navigator.userAgent||navigator.vendor||window.opera;let t=!1;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))||o["default"].config.devtools&&800>=window.innerWidth&&600>=window.innerHeight)&&(t=!0),t}},mutations:{setTheme:(e,t)=>{e.theme=t,localStorage.setItem("theme",t)}},actions:{openPage:({state:e},t)=>{t.pageName;{let i=t.pageName,a=e.keyPages[i]||i,n=t.param;null!=n?$["default"].push({path:`/${a}/${n}`}).catch((e=>{if("NavigationDuplicated"!==e.name)throw e})):$["default"].push({path:`/${a}`}).catch((e=>{if("NavigationDuplicated"!==e.name)throw e}))}},search:({dispatch:e,rootGetters:t},i)=>new Promise((async(t,a)=>{if(null!==i&&""!==i){const s=i.replace(/\s/g,"");if(p.A.isBlockHeight(s)&&(e("openPage",{pageName:"block",param:s}),t()),p.A.isAccountPublicKey(s))try{const i=z.Address.createFromPublicKey(s,A.A.networkType).plain(),a=await f.Di.getAccountInfo(i);a&&(e("openPage",{pageName:"account",param:s}),t())}catch(n){e("openPage",{pageName:"transaction",param:s}),t()}if(p.A.isAccountAddress(s)&&(e("openPage",{pageName:"account",param:s}),t()),p.A.isMosaicOrNamespaceId(s)){let i;try{i=await f.wB.getMosaicInfo(s),i&&(e("openPage",{pageName:"mosaic",param:s}),t())}catch(n){}}else try{let i=await f.B9.getNamespaceInfo(s);i&&(e("openPage",{pageName:"namespace",param:s}),t())}catch(n){}const o=await f.Di.checkNis1Account(s);o&&a(new Error("errorNisAddressNotAllowed")),a(new Error("errorNothingFound"))}else a(new Error("errorNothingFound"))})),changeLanguage:({state:e},t)=>{if(null===t||void 0===t)throw Error("Cannot change language. language is not supported: "+t);m.Ru.setCurrentLanguage(t)},changeTheme:({commit:e,rootGetters:t},i)=>{e("setTheme",i),document.documentElement.setAttribute("data-theme",i)}}},Y=i(95353);o["default"].use(Y.Ay);var X=new Y.Ay.Store({strict:!1,modules:{api:N,block:L,chain:D,transaction:q,ui:V,account:k,mosaic:E,namespace:H,node:O,statistic:_},state:{destructionList:[]},getters:{destructionList:e=>e.destructionList},mutations:{destructionList:(e,t)=>{e.destructionList=t}},actions:{async initialize({dispatch:e},t){switch($["default"].beforeEach(((t,i,a)=>e("onRouteChange",{to:t,from:i,next:a}))),await p.A.logError(e,"api/initialize"),t.name){case"home":return Promise.all([p.A.logError(e,"block/initialize"),p.A.logError(e,"chain/initialize"),p.A.logError(e,"transaction/initialize"),p.A.logError(e,"namespace/initialize"),p.A.logError(e,"mosaic/initialize")]);case"statistics":return p.A.logError(e,"statistic/initialize")}},async uninitialize({dispatch:e}){await Promise.all([e("account/uninitialize"),e("block/uninitialize"),e("chain/uninitialize"),e("mosaic/uninitialize"),e("namespace/uninitialize"),e("transaction/uninitialize"),e("statistic/uninitialize"),e("node/uninitialize")])},onRouteChange({commit:e,getters:t,dispatch:i},{to:a,from:n,next:s}){let{destructionList:o}=t;a.fullPath!==n.fullPath&&(o.push({name:n.name,group:n.meta.group,keepAliveGoTo:n.meta.keepAliveGoTo,storeNamespaces:n.meta.storeNamespaces}),o=o.filter((e=>{var t,n;return!!(null!==(t=e.keepAliveGoTo)&&void 0!==t&&t.includes(a.meta.group)||e.name===a.name)||(null===(n=e.storeNamespaces)||void 0===n||n.forEach((e=>i(`${e}/uninitialize`,null,{root:!0}))),!1)})),e("destructionList",o),s())}}})}}]);
//# sourceMappingURL=366.c7f28d6e.js.map